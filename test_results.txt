[0;34m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━[0m
[0;34m🧪 Bloggy Test Runner (Docker)[0m
[0;34m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━[0m

[0;36m📋 Test Mode: ALL (App + Chrome)[0m

[1;33m🔬 Running Application Tests...[0m
[0;34m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━[0m
[0;36m📝 Command: cd /app/runtime && pytest tests.py --cov=. --cov-report=html --cov-report=term[0m

time="2025-10-13T11:08:16+13:00" level=warning msg="/Users/ed.sharood2/code/pybase/docker/docker-compose.yaml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion"
[1m============================= test session starts ==============================[0m
platform linux -- Python 3.12.12, pytest-8.4.2, pluggy-1.6.0
rootdir: /app/runtime
configfile: pytest.ini
plugins: cov-7.0.0, asyncio-1.2.0, anyio-4.11.0
asyncio: mode=Mode.AUTO, debug=False, asyncio_default_fixture_loop_scope=function, asyncio_default_test_loop_scope=function
collected 83 items

tests.py [32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m [ 75%]
[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m                                                     [100%][0m

================================ tests coverage ================================
_______________ coverage: platform linux, python 3.12.12-final-0 _______________

Name                               Stmts   Miss  Cover
------------------------------------------------------
app.py                               443    234    47%
auth/__init__.py                       4      0   100%
auth/linking.py                      106     98     8%
auth/oauth_manager.py                 35     13    63%
auth/providers/__init__.py             6      0   100%
auth/providers/base.py                59     33    44%
auth/providers/facebook.py            18      8    56%
auth/providers/github.py              36     25    31%
auth/providers/google.py              24     11    54%
auth/providers/microsoft.py           22     10    55%
auth/rate_limit.py                    40     22    45%
auth/token_refresh.py                 86     75    13%
auth/tokens.py                        31     22    29%
auto_ui_generator.py                 309    214    31%
base_model.py                        255    255     0%
chrome_integration_tests.py          160    160     0%
chrome_test_helpers.py               110    110     0%
model_factory.py                     138    138     0%
model_permissions.py                 109    109     0%
models/__init__.py                    27      4    85%
models/comment/__init__.py             2      0   100%
models/comment/model.py               43     14    67%
models/decorators.py                 100     90    10%
models/oauth_account/__init__.py       2      0   100%
models/oauth_account/model.py         36     13    64%
models/oauth_token/__init__.py         2      0   100%
models/oauth_token/model.py           62     39    37%
models/permission/__init__.py          2      0   100%
models/permission/api.py               4      4     0%
models/permission/model.py            84     57    32%
models/permission/views.py             2      2     0%
models/post/__init__.py                2      0   100%
models/post/model.py                  86     18    79%
models/role/__init__.py                2      0   100%
models/role/api.py                     4      4     0%
models/role/model.py                  70     51    27%
models/role/views.py                   2      2     0%
models/role_permission.py             51     35    31%
models/seeder.py                      83     14    83%
models/user/__init__.py                2      0   100%
models/user/model.py                 191    155    19%
models/user_role.py                   59     32    46%
models/utils.py                      149    122    18%
openapi_generator.py                  82      6    93%
test_auto_ui.py                      132    132     0%
test_oauth_real.py                   231    231     0%
test_roles.py                        117    117     0%
test_roles_integration.py            243    243     0%
test_ui_chrome_real.py               118    118     0%
tests.py                             786     23    97%
validate_models.py                   227    227     0%
------------------------------------------------------
TOTAL                               4994   3290    34%
Coverage HTML written to dir htmlcov
[32m============================== [32m[1m83 passed[0m[32m in 8.07s[0m[32m ==============================[0m
[0;32m✅ Application tests passed![0m

[1;33m🌐 Running Chrome DevTools Tests...[0m
[0;34m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━[0m
[0;36mℹ️  Chrome MCP integration not enabled[0m
[1;33m⚠️  Skipping Chrome tests (NO MOCKING ALLOWED per repository policy)[0m

[0;36m   To enable REAL Chrome testing:[0m
[0;36m   1. Export environment variable: export HAS_CHROME_MCP=true[0m
[0;36m   2. Ensure Chrome browser is running on host[0m
[0;36m   3. Ensure app is running at http://localhost:8081[0m
[0;36m   4. Ensure MCP Chrome DevTools is available[0m

[0;36m   Then run: HAS_CHROME_MCP=true ./run_tests.sh --chrome[0m

[0;32m✅ Chrome tests skipped (prerequisites not met)[0m

[0;34m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━[0m
[0;32m✅ All tests passed![0m

[0;34m📊 Coverage report generated at: runtime/htmlcov/index.html[0m
   Open with: open runtime/htmlcov/index.html
[0;34m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━[0m
